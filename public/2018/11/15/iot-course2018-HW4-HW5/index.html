<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
<title>Arduino LoRa Shield通訊實驗與NodeRED - YC Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta name="description" content="HW41.分別針對不同Spreading Factor情況下LoRa在移動下（可騎承腳踏車、搭公車、搭捷運、搭貓纜）所傳送資料的狀況做記錄（例：Packet Error Rate） 頻率設定位置: setFrequency() in the file: Sketchbook\libraries\RadioHead\RH_RF95.cpp;Line 114: setFrequency(918.7);">
<meta name="keywords" content="Raspberry Pi,IoT,LoRa,NodeRED,MQTT">
<meta property="og:type" content="article">
<meta property="og:title" content="Arduino LoRa Shield通訊實驗與NodeRED">
<meta property="og:url" content="http://yoursite.com/2018/11/15/iot-course2018-HW4-HW5/index.html">
<meta property="og:site_name" content="YC Blog">
<meta property="og:description" content="HW41.分別針對不同Spreading Factor情況下LoRa在移動下（可騎承腳踏車、搭公車、搭捷運、搭貓纜）所傳送資料的狀況做記錄（例：Packet Error Rate） 頻率設定位置: setFrequency() in the file: Sketchbook\libraries\RadioHead\RH_RF95.cpp;Line 114: setFrequency(918.7);">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://i.imgur.com/UsF3nJs.png">
<meta property="og:image" content="https://i.imgur.com/c6rcJUr.png">
<meta property="og:image" content="https://i.imgur.com/mkg3Ofl.png">
<meta property="og:image" content="https://i.imgur.com/S6HDHfj.png">
<meta property="og:image" content="https://i.imgur.com/gdBkD32.png">
<meta property="og:image" content="https://i.imgur.com/PIn2uK5.png">
<meta property="og:image" content="https://i.imgur.com/L3Jkkcb.png">
<meta property="og:image" content="https://i.imgur.com/N60CCwl.png">
<meta property="og:image" content="https://i.imgur.com/UqYTMox.png">
<meta property="og:image" content="https://i.imgur.com/wuLY1MZ.png">
<meta property="og:image" content="https://i.imgur.com/QnOv8Hl.png">
<meta property="og:image" content="https://i.imgur.com/wHloW1P.png">
<meta property="og:image" content="https://i.imgur.com/TheFU1s.png">
<meta property="og:image" content="https://i.imgur.com/of2EayZ.png">
<meta property="og:image" content="https://i.imgur.com/PSyyF0h.png">
<meta property="og:image" content="https://i.imgur.com/adW7r7z.png">
<meta property="og:image" content="https://i.imgur.com/kGZEpaM.png">
<meta property="og:updated_time" content="2019-02-09T08:19:35.628Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Arduino LoRa Shield通訊實驗與NodeRED">
<meta name="twitter:description" content="HW41.分別針對不同Spreading Factor情況下LoRa在移動下（可騎承腳踏車、搭公車、搭捷運、搭貓纜）所傳送資料的狀況做記錄（例：Packet Error Rate） 頻率設定位置: setFrequency() in the file: Sketchbook\libraries\RadioHead\RH_RF95.cpp;Line 114: setFrequency(918.7);">
<meta name="twitter:image" content="https://i.imgur.com/UsF3nJs.png">





<link rel="icon" href="/myimages/hexo-logo.png">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-133583967-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-133583967-1');
</script>


    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    


<link rel="stylesheet" href="/css/style.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body class="is-3-column">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="Arduino LoRa Shield通訊實驗與NodeRED" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">Home</a>
                
                <a class="navbar-item" href="/archives">Archives</a>
                
                <a class="navbar-item" href="/categories">Categories</a>
                
                <a class="navbar-item" href="/tags">Tags</a>
                
                <a class="navbar-item" href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="http://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-image">
        <span class="image is-7by1">
            <img class="thumbnail" src="https://i.imgur.com/gYUb3E9.jpg" alt="Arduino LoRa Shield通訊實驗與NodeRED">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-11-15T00:05:08.000Z">2018-11-15</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 minutes read (About 1428 words)
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                Arduino LoRa Shield通訊實驗與NodeRED
            
        </h1>
        <div class="content">
            <h1 id="HW4"><a href="#HW4" class="headerlink" title="HW4"></a>HW4</h1><h2 id="1-分別針對不同Spreading-Factor情況下LoRa在移動下（可騎承腳踏車、搭公車、搭捷運、搭貓纜）所傳送資料的狀況做記錄（例：Packet-Error-Rate）"><a href="#1-分別針對不同Spreading-Factor情況下LoRa在移動下（可騎承腳踏車、搭公車、搭捷運、搭貓纜）所傳送資料的狀況做記錄（例：Packet-Error-Rate）" class="headerlink" title="1.分別針對不同Spreading Factor情況下LoRa在移動下（可騎承腳踏車、搭公車、搭捷運、搭貓纜）所傳送資料的狀況做記錄（例：Packet Error Rate）"></a>1.分別針對不同Spreading Factor情況下LoRa在移動下（可騎承腳踏車、搭公車、搭捷運、搭貓纜）所傳送資料的狀況做記錄（例：Packet Error Rate）</h2><blockquote>
<p>頻率設定位置: setFrequency() in the file: Sketchbook\libraries\RadioHead\RH_RF95.cpp;<br>Line 114: setFrequency(918.7);</p>
</blockquote>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span></span><br><span class="line">    &#123;</span><br><span class="line">	Bw125Cr45Sf128 = <span class="hljs-number">0</span>,	   <span class="hljs-comment">///&lt; Bw = 125 kHz, Cr = 4/5, Sf = 128chips/symbol, CRC on. Default medium range</span></span><br><span class="line">	Bw500Cr45Sf128,	   <span class="hljs-comment">///&lt; Bw = 500 kHz, Cr = 4/5, Sf = 128chips/symbol, CRC on. Fast+short range</span></span><br><span class="line">	Bw31_25Cr48Sf512,	   <span class="hljs-comment">///&lt; Bw = 31.25 kHz, Cr = 4/8, Sf = 512chips/symbol, CRC on. Slow+long range</span></span><br><span class="line">	Bw125Cr48Sf4096,          <span class="hljs-comment">///&lt; Bw = 125 kHz, Cr = 4/8, Sf = 4096chips/symbol, CRC on. Slow+long range</span></span><br><span class="line">    &#125; ModemConfigChoice;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="source-code"><a href="#source-code" class="headerlink" title="source code"></a>source code</h3><p><strong>myLoraServerSFtest-FieldTrailTx.ino</strong><br><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;RH_RF95.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">RH_RF95 rf95;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">long</span> counter=<span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>&#123;    </span><br><span class="line">  Serial.begin(<span class="hljs-number">9600</span>);</span><br><span class="line">  delay(<span class="hljs-number">1000</span>);</span><br><span class="line">  <span class="hljs-keyword">while</span> (!Serial) ; <span class="hljs-comment">// Wait for serial port to be available</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (!rf95.init())</span><br><span class="line">    Serial.println(<span class="hljs-string">"init failed"</span>); </span><br><span class="line">  Serial.println();</span><br><span class="line">  Serial.println(<span class="hljs-string">"Lora init passed"</span>);  </span><br><span class="line">  </span><br><span class="line">  rf95.setModemConfig(RH_RF95::Bw125Cr48Sf4096);  <span class="hljs-comment">// failed</span></span><br><span class="line">  <span class="hljs-comment">//  rf95.setModemConfig(RH_RF95::Bw125Cr45Sf128);   // test OK (Default medium range)</span></span><br><span class="line">  <span class="hljs-comment">//  rf95.setModemConfig(RH_RF95::Bw500Cr45Sf128);   // test OK (Fast + short range)</span></span><br><span class="line">  <span class="hljs-comment">//  rf95.setModemConfig(RH_RF95::Bw31_25Cr48Sf512); // test OK (Slow + long range適用長距離)</span></span><br><span class="line">  </span><br><span class="line">  rf95.setTxPower(<span class="hljs-number">23</span>, <span class="hljs-literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">  counter++;</span><br><span class="line">  String numString = <span class="hljs-string">"Server: "</span>+ String(counter, DEC)+<span class="hljs-string">"         "</span>;  <span class="hljs-comment">//加空白以去除亂碼</span></span><br><span class="line">  </span><br><span class="line">  <span class="hljs-keyword">uint8_t</span> data[<span class="hljs-number">14</span>] = <span class="hljs-string">""</span>; </span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">14</span>; i++) &#123;</span><br><span class="line">   data[i] =numString[i];  <span class="hljs-comment">//     </span></span><br><span class="line">  &#125;   </span><br><span class="line">  rf95.send(data, <span class="hljs-keyword">sizeof</span>(data));</span><br><span class="line">  rf95.waitPacketSent();</span><br><span class="line">  Serial.println(numString);</span><br><span class="line">  delay(<span class="hljs-number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>myLoraClientSFtest-FieldTrailRx.ino</strong><br><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;RH_RF95.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;Wire.h&gt;</span></span></span><br><span class="line">RH_RF95 rf95;</span><br><span class="line"><span class="hljs-keyword">int</span> counter=<span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">  Serial.begin(<span class="hljs-number">9600</span>);</span><br><span class="line">  <span class="hljs-keyword">while</span> (!Serial) ;</span><br><span class="line">  <span class="hljs-keyword">if</span> (!rf95.init())</span><br><span class="line">    Serial.println(<span class="hljs-string">"init failed"</span>);</span><br><span class="line">  Serial.println(<span class="hljs-string">"init passed"</span>); </span><br><span class="line">  </span><br><span class="line">  rf95.setModemConfig(RH_RF95::Bw125Cr48Sf4096); </span><br><span class="line">  <span class="hljs-comment">// rf95.setModemConfig(RH_RF95::Bw125Cr45Sf128); </span></span><br><span class="line">  <span class="hljs-comment">// rf95.setModemConfig(RH_RF95::Bw500Cr45Sf128); </span></span><br><span class="line">  <span class="hljs-comment">// rf95.setModemConfig(RH_RF95::Bw31_25Cr48Sf512);</span></span><br><span class="line">  rf95.setTxPower(<span class="hljs-number">23</span>, <span class="hljs-literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="hljs-keyword">if</span> (rf95.available())</span><br><span class="line">  &#123;  </span><br><span class="line">    <span class="hljs-keyword">uint8_t</span> buf[<span class="hljs-number">14</span>];</span><br><span class="line">    <span class="hljs-keyword">uint8_t</span> len = <span class="hljs-keyword">sizeof</span>(buf);</span><br><span class="line">    <span class="hljs-keyword">if</span> (rf95.recv(buf, &amp;len))</span><br><span class="line">    &#123;</span><br><span class="line">      counter++;</span><br><span class="line">      Serial.print(<span class="hljs-string">"Rx: "</span>);</span><br><span class="line">      Serial.println((<span class="hljs-keyword">char</span>*)buf);</span><br><span class="line">      Serial.print(<span class="hljs-string">"RSSI: "</span>);</span><br><span class="line">      Serial.println(rf95.lastRssi(), DEC);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="2-不同長度的展頻symbol數，會造成不同的傳送完成時間，請量測不同Spreading-Factor傳送完成所需時間紀錄。"><a href="#2-不同長度的展頻symbol數，會造成不同的傳送完成時間，請量測不同Spreading-Factor傳送完成所需時間紀錄。" class="headerlink" title="2.不同長度的展頻symbol數，會造成不同的傳送完成時間，請量測不同Spreading Factor傳送完成所需時間紀錄。"></a>2.不同長度的展頻symbol數，會造成不同的傳送完成時間，請量測不同Spreading Factor傳送完成所需時間紀錄。</h2><h3 id="source-code-1"><a href="#source-code-1" class="headerlink" title="source code"></a>source code</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;RH_RF95.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">RH_RF95 rf95;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">long</span> counter=<span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>&#123;    </span><br><span class="line">  Serial.begin(<span class="hljs-number">9600</span>);</span><br><span class="line">  delay(<span class="hljs-number">1000</span>);</span><br><span class="line">  <span class="hljs-keyword">while</span> (!Serial) ; <span class="hljs-comment">// Wait for serial port to be available</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (!rf95.init())</span><br><span class="line">    Serial.println(<span class="hljs-string">"init failed"</span>); </span><br><span class="line">  Serial.println();</span><br><span class="line">  Serial.println(<span class="hljs-string">"Lora init passed"</span>);  </span><br><span class="line">  </span><br><span class="line">  rf95.setModemConfig(RH_RF95::Bw125Cr48Sf4096);  <span class="hljs-comment">// failed</span></span><br><span class="line">  <span class="hljs-comment">//  rf95.setModemConfig(RH_RF95::Bw125Cr45Sf128);   // test OK (Default medium range)</span></span><br><span class="line">  <span class="hljs-comment">//  rf95.setModemConfig(RH_RF95::Bw500Cr45Sf128);   // test OK (Fast + short range)</span></span><br><span class="line">  <span class="hljs-comment">//  rf95.setModemConfig(RH_RF95::Bw31_25Cr48Sf512); // test OK (Slow + long range適用長距離)</span></span><br><span class="line">  </span><br><span class="line">  rf95.setTxPower(<span class="hljs-number">23</span>, <span class="hljs-literal">false</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="hljs-comment">//傳送1100筆資料</span></span><br><span class="line">  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">1100</span>; j ++) &#123;</span><br><span class="line">    counter++;</span><br><span class="line">    String numString = <span class="hljs-string">"Server: "</span>+ String(counter, DEC)+<span class="hljs-string">"         "</span>;  <span class="hljs-comment">//加空白以去除亂碼</span></span><br><span class="line">    </span><br><span class="line">    <span class="hljs-keyword">uint8_t</span> data[<span class="hljs-number">14</span>] = <span class="hljs-string">""</span>; </span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">14</span>; i++) &#123;</span><br><span class="line">     data[i] =numString[i];  <span class="hljs-comment">//     </span></span><br><span class="line">    &#125;   </span><br><span class="line">    rf95.send(data, <span class="hljs-keyword">sizeof</span>(data));</span><br><span class="line">    rf95.waitPacketSent();</span><br><span class="line">    Serial.println(numString);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p><strong>RPi Serial monitor with timestamp</strong><br><figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> time</span><br><span class="line"><span class="hljs-keyword">from</span> pytz <span class="hljs-keyword">import</span> timezone <span class="hljs-comment"># pip install pytz</span></span><br><span class="line"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime</span><br><span class="line"><span class="hljs-keyword">import</span> serial</span><br><span class="line"></span><br><span class="line">ser = serial.Serial(<span class="hljs-string">'/dev/ttyACM0'</span>, <span class="hljs-number">9600</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:</span><br><span class="line">    u = datetime.now(timezone(<span class="hljs-string">'Asia/Taipei'</span>))</span><br><span class="line">    print(u.strftime(<span class="hljs-string">'%H:%M:%S.%f'</span>)[:<span class="hljs-number">-3</span>] + <span class="hljs-string">" &gt;&gt; "</span> + ser.readline())</span><br></pre></td></tr></table></figure></p>
<p><img src="https://i.imgur.com/UsF3nJs.png" alt=""></p>
<blockquote>
<p>使用樹莓派讀取serial好處是可以有準確的unix timestamp，只要有行動電源與手機(AP)就能到戶外進行實測，並直接將結果存成log.txt檔案放在RPi</p>
</blockquote>
<h3 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h3><ul>
<li>timestamp 樹莓派 <a href="https://stackoverflow.com/questions/10997577/python-timezone-conversion" target="_blank" rel="noopener">https://stackoverflow.com/questions/10997577/python-timezone-conversion</a></li>
<li>pytz-time-zones.py : <a href="https://gist.github.com/heyalexej/8bf688fd67d7199be4a1682b3eec7568" target="_blank" rel="noopener">https://gist.github.com/heyalexej/8bf688fd67d7199be4a1682b3eec7568</a></li>
<li>RadioHead API : <a href="https://www.airspayce.com/mikem/arduino/RadioHead/classRHGenericDriver.html#a0feda1f5522522dc50e0c26dcdef71dd" target="_blank" rel="noopener">https://www.airspayce.com/mikem/arduino/RadioHead/classRHGenericDriver.html#a0feda1f5522522dc50e0c26dcdef71dd</a></li>
</ul>
<h1 id="HW5"><a href="#HW5" class="headerlink" title="HW5"></a>HW5</h1><p>PM2.5 測試程式<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">int dustPin=0; //A0</span><br><span class="line">float dustVal=0;</span><br><span class="line"> </span><br><span class="line">int delayTime=280;</span><br><span class="line">int delayTime2=40;</span><br><span class="line">float offTime=9680;</span><br><span class="line"></span><br><span class="line">void setup()&#123;</span><br><span class="line">  Serial.begin(9600);</span><br><span class="line">  pinMode(dustPin, INPUT);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">void loop()&#123;</span><br><span class="line">  delayMicroseconds(delayTime);</span><br><span class="line">  dustVal = analogRead(dustPin); </span><br><span class="line">  delayMicroseconds(delayTime2);</span><br><span class="line">  delayMicroseconds(offTime);</span><br><span class="line">   </span><br><span class="line">  delay(1000);</span><br><span class="line">  if (dustVal&gt;36.455)</span><br><span class="line">  Serial.println((float(dustVal/1024)-0.0356)*120000*0.035);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>LoRa Client(TX) 傳輸PM2.5資料</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;SPI.h&gt;</span><br><span class="line">#include &lt;RH_RF95.h&gt;</span><br><span class="line"></span><br><span class="line">RH_RF95 rf95;</span><br><span class="line">int count = 0;</span><br><span class="line"></span><br><span class="line">// PM2.5</span><br><span class="line">int dustPin=0; //A0</span><br><span class="line">float dustVal=0;</span><br><span class="line">float AirQ;</span><br><span class="line">String AirQT;</span><br><span class="line"></span><br><span class="line">void setup() &#123;    </span><br><span class="line">  Serial.begin(9600);</span><br><span class="line">  pinMode(dustPin, INPUT);</span><br><span class="line">  delay(1000);</span><br><span class="line">  while (!Serial) ; // Wait for serial port to be available</span><br><span class="line">  if (!rf95.init())</span><br><span class="line">    Serial.println(&quot;init failed&quot;); </span><br><span class="line">  Serial.println();</span><br><span class="line">  Serial.println(&quot;Lora init passed Bw31_25Cr48Sf512&quot; );  </span><br><span class="line"></span><br><span class="line">  rf95.setModemConfig(RH_RF95::Bw125Cr45Sf128);   // test OK (Default medium range)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  rf95.setTxPower(23, false); </span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void loop() &#123;</span><br><span class="line">    count++;</span><br><span class="line">    dustVal = analogRead(dustPin);  </span><br><span class="line">    PM25Info(&amp;AirQ, &amp;AirQT);</span><br><span class="line">    </span><br><span class="line">    String numString = (String)count + &quot;,&quot; + (String)AirQ + &quot;,&quot; + AirQT + &quot;         &quot;;  //加空白以去除亂碼</span><br><span class="line">    </span><br><span class="line">    uint8_t data[14] = &quot;&quot;; </span><br><span class="line">    for (int i=0; i&lt;14; i++) &#123;</span><br><span class="line">     data[i] =numString[i];  //     </span><br><span class="line">    &#125;   </span><br><span class="line">    rf95.send(data, sizeof(data));</span><br><span class="line">    rf95.waitPacketSent();</span><br><span class="line">    Serial.println(numString);</span><br><span class="line"></span><br><span class="line">    delay(1000);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void PM25Info(float* aq, String* aqt) &#123;</span><br><span class="line">  if (dustVal&gt;36.455)</span><br><span class="line">      *aq = float((dustVal/1024)-0.0356)*120000*0.035;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  if (*aq &lt; 300)                    &#123; *aqt=&quot; Good      &quot;;&#125;</span><br><span class="line">  if (*aq &gt;= 300 &amp;&amp; *aq &lt; 1050)     &#123; *aqt=&quot; Moderate&quot;;&#125;</span><br><span class="line">  if (*aq &gt;= 1050 &amp;&amp; *aq &lt; 3000)    &#123; *aqt=&quot; Unhealthy&quot;;&#125;</span><br><span class="line">  if (*aq &gt; 3000)                   &#123; *aqt=&quot; Hazardous&quot;;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>LoRa Server(RX) 接收PM2.5資料</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;SPI.h&gt;</span><br><span class="line">#include &lt;RH_RF95.h&gt;</span><br><span class="line">RH_RF95 rf95;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void setup() &#123;</span><br><span class="line">  Serial.begin(9600);</span><br><span class="line">  while (!Serial) ;</span><br><span class="line">  if (!rf95.init())</span><br><span class="line">    Serial.println(&quot;init failed&quot;);</span><br><span class="line">  Serial.println(&quot;init passed  Bw125Cr45Sf128&quot;); </span><br><span class="line">  rf95.setModemConfig(RH_RF95::Bw125Cr45Sf128); </span><br><span class="line">  </span><br><span class="line">  rf95.setTxPower(23, false);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void loop()&#123;</span><br><span class="line">   if (rf95.available()) &#123;  </span><br><span class="line">    uint8_t buf[14];</span><br><span class="line">    uint8_t len = sizeof(buf);</span><br><span class="line">    if (rf95.recv(buf, &amp;len))</span><br><span class="line">    &#123;</span><br><span class="line">      Serial.print(&quot;Rx: &quot;);</span><br><span class="line">      Serial.println((char*)buf);</span><br><span class="line">      Serial.print(&quot;RSSI: &quot;);</span><br><span class="line">      Serial.println(rf95.lastRssi(), DEC);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="https://i.imgur.com/c6rcJUr.png" alt=""></p>
<h2 id="NodeRED-環境資料整合Gateway"><a href="#NodeRED-環境資料整合Gateway" class="headerlink" title="NodeRED 環境資料整合Gateway"></a>NodeRED 環境資料整合Gateway</h2><h3 id="MQTT"><a href="#MQTT" class="headerlink" title="MQTT"></a>MQTT</h3><ul>
<li>broker : rpi</li>
<li>publisher: rpi</li>
<li>subscriber: PC</li>
</ul>
<h3 id="由serial顯示LoRa-Server-RX-接收的PM2-5數值"><a href="#由serial顯示LoRa-Server-RX-接收的PM2-5數值" class="headerlink" title="由serial顯示LoRa Server(RX) 接收的PM2.5數值"></a>由serial顯示LoRa Server(RX) 接收的PM2.5數值</h3><p><img src="https://i.imgur.com/mkg3Ofl.png" alt=""><br><img src="https://i.imgur.com/S6HDHfj.png" alt=""></p>
<h3 id="解析payload並mqtt-publish"><a href="#解析payload並mqtt-publish" class="headerlink" title="解析payload並mqtt publish"></a>解析payload並mqtt publish</h3><p><strong>nodes:</strong><br><img src="https://i.imgur.com/gdBkD32.png" alt=""></p>
<p><strong>serial node:</strong><br><img src="https://i.imgur.com/PIn2uK5.png" alt=""><br><strong>data switch</strong><br><img src="https://i.imgur.com/L3Jkkcb.png" alt=""></p>
<p><strong>function node(parse pm2.5):</strong><br><img src="https://i.imgur.com/N60CCwl.png" alt=""></p>
<p><strong>function node(parse rssi):</strong><br><img src="https://i.imgur.com/UqYTMox.png" alt=""></p>
<p><strong>mqtt node (pm2.5):</strong><br><img src="https://i.imgur.com/wuLY1MZ.png" alt=""></p>
<p><strong>mqtt node (RSSI):</strong><br><img src="https://i.imgur.com/QnOv8Hl.png" alt=""></p>
<h3 id="接收topic-home-LoRa的subscriber程式"><a href="#接收topic-home-LoRa的subscriber程式" class="headerlink" title="接收topic: home/LoRa的subscriber程式"></a>接收topic: home/LoRa的subscriber程式</h3><figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> mqtt = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mqtt'</span>)</span><br><span class="line"><span class="hljs-keyword">var</span> client  = mqtt.connect(<span class="hljs-string">'mqtt://192.168.0.105'</span>) <span class="hljs-comment">//broker ip (rpi)</span></span><br><span class="line"><span class="hljs-keyword">var</span> client2 = mqtt.connect(<span class="hljs-string">'mqtt://192.168.0.105'</span>)  </span><br><span class="line"> </span><br><span class="line">client.on(<span class="hljs-string">'connect'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'mqtt broker connected!'</span>);</span><br><span class="line">  client.subscribe(<span class="hljs-string">'home/LoRa/pm2.5'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line">client.on(<span class="hljs-string">'message'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">topic, msg</span>) </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">let</span> info = <span class="hljs-built_in">JSON</span>.parse(msg)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'\n收到pm2.5 topic: '</span> + topic);</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`時間: <span class="hljs-subst">$&#123;info.time&#125;</span> \npm2.5: <span class="hljs-subst">$&#123;info.pm25&#125;</span> \nstatus: <span class="hljs-subst">$&#123;info.status&#125;</span>`</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// for rssi </span></span><br><span class="line">client2.on(<span class="hljs-string">'connect'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'mqtt broker connected!'</span>);</span><br><span class="line">    client2.subscribe(<span class="hljs-string">'home/LoRa/rssi'</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">   </span><br><span class="line">client2.on(<span class="hljs-string">'message'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">topic, msg</span>) </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">let</span> info = <span class="hljs-built_in">JSON</span>.parse(msg)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'\ntopic: home/LoRa/rssi'</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"RSSI: "</span> + info.rssi)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/wHloW1P.png" alt=""></p>
<h2 id="GUI"><a href="#GUI" class="headerlink" title="GUI"></a>GUI</h2><blockquote>
<p>需先安裝node-red-dashboard<br>Manage palette &gt; install &gt; 輸入node-red-dashboard</p>
</blockquote>
<p><strong>nodes:</strong><br><img src="https://i.imgur.com/TheFU1s.png" alt=""></p>
<p><strong>get pm2.5 value function</strong><br><img src="https://i.imgur.com/of2EayZ.png" alt=""></p>
<p><img src="https://i.imgur.com/PSyyF0h.png" alt=""></p>
<p><img src="https://i.imgur.com/adW7r7z.png" alt=""></p>
<h2 id="Publish溫溼度-DHT22-資料"><a href="#Publish溫溼度-DHT22-資料" class="headerlink" title="Publish溫溼度(DHT22)資料"></a>Publish溫溼度(DHT22)資料</h2><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;Ethernet.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;PubSubClient.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"DHT.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DHTPIN 2     <span class="hljs-comment">// what digital pin we're connected to</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DHTTYPE DHT22   <span class="hljs-comment">// DHT 22  (AM2302), AM2321</span></span></span><br><span class="line"><span class="hljs-function">DHT <span class="hljs-title">dht</span><span class="hljs-params">(DHTPIN, DHTTYPE)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// set MAC address</span></span><br><span class="line"><span class="hljs-keyword">static</span> byte mac[] = &#123; <span class="hljs-number">0xF0</span>, <span class="hljs-number">0x7B</span>, <span class="hljs-number">0xCB</span>, <span class="hljs-number">0x4B</span>, <span class="hljs-number">0x7C</span>, <span class="hljs-number">0x9F</span> &#125;;</span><br><span class="line"><span class="hljs-comment">// set server and UNO IP adderss </span></span><br><span class="line"><span class="hljs-function">IPAddress <span class="hljs-title">ip</span><span class="hljs-params">(<span class="hljs-number">192</span>, <span class="hljs-number">168</span>, <span class="hljs-number">0</span>, <span class="hljs-number">108</span>)</span></span>;</span><br><span class="line"><span class="hljs-function">IPAddress <span class="hljs-title">server</span><span class="hljs-params">(<span class="hljs-number">192</span>, <span class="hljs-number">168</span>, <span class="hljs-number">0</span>, <span class="hljs-number">105</span>)</span></span>; <span class="hljs-comment">// broker ip</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// Client ID</span></span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> clientID[] = <span class="hljs-string">"uno"</span>;</span><br><span class="line"><span class="hljs-comment">// topic</span></span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> topic[] = <span class="hljs-string">"home/dht22"</span>;</span><br><span class="line"></span><br><span class="line">String msgStr = <span class="hljs-string">""</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">char</span> json[<span class="hljs-number">25</span>];</span><br><span class="line"></span><br><span class="line">EthernetClient ethClient;        <span class="hljs-comment">// Ethernet object</span></span><br><span class="line"><span class="hljs-function">PubSubClient <span class="hljs-title">client</span><span class="hljs-params">(ethClient)</span></span>;  <span class="hljs-comment">// MQTT object basedon Ethernet</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">  Serial.begin(<span class="hljs-number">9600</span>);</span><br><span class="line">    </span><br><span class="line">  dht.begin();</span><br><span class="line">    </span><br><span class="line">  client.setServer(server, <span class="hljs-number">1883</span>); <span class="hljs-comment">//broker and port</span></span><br><span class="line">  Ethernet.begin(mac, ip);        <span class="hljs-comment">// initialize Ethernet</span></span><br><span class="line"></span><br><span class="line">  delay(<span class="hljs-number">1500</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (!client.connected()) &#123;</span><br><span class="line">    reconnect();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  client.loop(); <span class="hljs-comment">// update MQTT client</span></span><br><span class="line">  </span><br><span class="line">  <span class="hljs-keyword">float</span> h = dht.readHumidity()</span><br><span class="line">  <span class="hljs-keyword">float</span> t = dht.readTemperature();<span class="hljs-comment">// Read temperature as Celsius (the default)</span></span><br><span class="line"> </span><br><span class="line">  <span class="hljs-comment">// JSON format string</span></span><br><span class="line">  msgStr = msgStr + <span class="hljs-string">"&#123;\"temp\":"</span> + (String)t + <span class="hljs-string">",\"humid\":"</span> + (String)h + <span class="hljs-string">"&#125;"</span>;</span><br><span class="line">  <span class="hljs-comment">// turn to char array, store in json</span></span><br><span class="line">  msgStr.toCharArray(json, <span class="hljs-number">25</span>);</span><br><span class="line">  </span><br><span class="line">  client.publish(topic, json);</span><br><span class="line"> </span><br><span class="line">  msgStr = <span class="hljs-string">""</span>; <span class="hljs-comment">// clean</span></span><br><span class="line">  </span><br><span class="line">  delay(<span class="hljs-number">5000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>加溫溼度的nodes<br><img src="https://i.imgur.com/kGZEpaM.png" alt=""></p>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/IoT/">IoT</a>, <a class="has-link-grey -link" href="/tags/LoRa/">LoRa</a>, <a class="has-link-grey -link" href="/tags/MQTT/">MQTT</a>, <a class="has-link-grey -link" href="/tags/NodeRED/">NodeRED</a>, <a class="has-link-grey -link" href="/tags/Raspberry-Pi/">Raspberry Pi</a>
                </div>
            </div>
        </div>
        
        
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2018/11/26/iot-course2018-HW6/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">透過AWS IoT core儲存sensor資料至DynamoDB</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2018/11/12/cvsd-note/">
                <span class="level-item">CVSD 2018 Fall Nodebook</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">Comments</h3>
        
<script>
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2018/11/15/iot-course2018-HW4-HW5/';
        this.page.identifier = '2018/11/15/iot-course2018-HW4-HW5/';
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'yclin' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    </div>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/myimages/yc.png" alt="YC Lin">
                    
                    
                    <p class="is-size-4 is-block">
                        YC Lin
                    </p>
                    
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Taipei, Taiwan</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        18
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        0
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <p class="title has-text-weight-normal">
                        35
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="/">
                Follow</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://github.com/syokujinau">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Facebook" href="https://www.facebook.com/profile.php?id=100000544587033">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Twitter" href="http://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Dribbble" href="http://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Links
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://github.com/ppoffice" target="_blank">
                    <span class="level-left">
                        <span class="level-item">PPOffice</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://www.udemy.com/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Udemy</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.udemy.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://www.ee.nchu.edu.tw/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">NCHU EE</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.ee.nchu.edu.tw</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://www.giee.ntu.edu.tw/portal/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">NTU GIEE</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.giee.ntu.edu.tw</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/AI/" style="font-size: 13.33px;">AI</a> <a href="/tags/AWS/" style="font-size: 10px;">AWS</a> <a href="/tags/Decision-Tree/" style="font-size: 10px;">Decision Tree</a> <a href="/tags/Deep-Learning/" style="font-size: 13.33px;">Deep Learning</a> <a href="/tags/DynamoDB/" style="font-size: 10px;">DynamoDB</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/Facebook/" style="font-size: 10px;">Facebook</a> <a href="/tags/Firebase/" style="font-size: 10px;">Firebase</a> <a href="/tags/Google-Compute-Engine/" style="font-size: 10px;">Google Compute Engine</a> <a href="/tags/IoT/" style="font-size: 13.33px;">IoT</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Jupyter/" style="font-size: 13.33px;">Jupyter</a> <a href="/tags/K-Means/" style="font-size: 10px;">K-Means</a> <a href="/tags/KNN/" style="font-size: 10px;">KNN</a> <a href="/tags/Linear-Regression/" style="font-size: 10px;">Linear Regression</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/LoRa/" style="font-size: 10px;">LoRa</a> <a href="/tags/Logistic-Regrassion/" style="font-size: 10px;">Logistic Regrassion</a> <a href="/tags/MJPEG-Streamer/" style="font-size: 10px;">MJPEG-Streamer</a> <a href="/tags/MQTT/" style="font-size: 10px;">MQTT</a> <a href="/tags/Machine-Learning/" style="font-size: 20px;">Machine Learning</a> <a href="/tags/Minecraft/" style="font-size: 10px;">Minecraft</a> <a href="/tags/Ngrok/" style="font-size: 10px;">Ngrok</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/NodeRED/" style="font-size: 10px;">NodeRED</a> <a href="/tags/Promise/" style="font-size: 10px;">Promise</a> <a href="/tags/Python/" style="font-size: 16.67px;">Python</a> <a href="/tags/Random-Forest/" style="font-size: 10px;">Random Forest</a> <a href="/tags/Raspberry-Pi/" style="font-size: 13.33px;">Raspberry Pi</a> <a href="/tags/SVM/" style="font-size: 10px;">SVM</a> <a href="/tags/Scikit-learn/" style="font-size: 10px;">Scikit-learn</a> <a href="/tags/Tensorflow/" style="font-size: 13.33px;">Tensorflow</a> <a href="/tags/Verilog/" style="font-size: 13.33px;">Verilog</a> <a href="/tags/base64/" style="font-size: 10px;">base64</a> <a href="/tags/matplotlib/" style="font-size: 10px;">matplotlib</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/02/04/Tensorflow-notebook-2/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.imgur.com/zJX2v4b.jpg" alt="Tensorflow Notebook 2 - Linear Regression">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-02-04T08:42:49.000Z">2019-02-04</time></div>
                    <a href="/2019/02/04/Tensorflow-notebook-2/" class="has-link-black-ter is-size-6">Tensorflow Notebook 2 - Linear Regression</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/02/03/js-promise-execute-sequentially/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.imgur.com/X3i6f9L.png" alt="JavaScript 筆記 - 依序執行function">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-02-03T07:07:42.000Z">2019-02-03</time></div>
                    <a href="/2019/02/03/js-promise-execute-sequentially/" class="has-link-black-ter is-size-6">JavaScript 筆記 - 依序執行function</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/02/02/Raspberry-Pi3-MJPEG-Streamer-Install-Setup/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.imgur.com/f9eSaX7.jpg" alt="Raspberry Pi3 MJPEG-Streamer Install &amp; Setup">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-02-02T08:20:47.000Z">2019-02-02</time></div>
                    <a href="/2019/02/02/Raspberry-Pi3-MJPEG-Streamer-Install-Setup/" class="has-link-black-ter is-size-6">Raspberry Pi3 MJPEG-Streamer Install &amp; Setup</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/01/28/Tensorflow-notebook-1/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.imgur.com/zJX2v4b.jpg" alt="Tensorflow Notebook 1 - Python實作二元線性分類器">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-01-28T12:46:49.000Z">2019-01-28</time></div>
                    <a href="/2019/01/28/Tensorflow-notebook-1/" class="has-link-black-ter is-size-6">Tensorflow Notebook 1 - Python實作二元線性分類器</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/26/iot-course2018-HW6/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.imgur.com/9b82heZ.jpg" alt="透過AWS IoT core儲存sensor資料至DynamoDB">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-26T03:15:28.000Z">2018-11-26</time></div>
                    <a href="/2018/11/26/iot-course2018-HW6/" class="has-link-black-ter is-size-6">透過AWS IoT core儲存sensor資料至DynamoDB</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">February 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">January 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">November 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">October 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">June 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">May 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">September 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AI/">
                        <span class="tag">AI</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AWS/">
                        <span class="tag">AWS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Decision-Tree/">
                        <span class="tag">Decision Tree</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Deep-Learning/">
                        <span class="tag">Deep Learning</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/DynamoDB/">
                        <span class="tag">DynamoDB</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ES6/">
                        <span class="tag">ES6</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Facebook/">
                        <span class="tag">Facebook</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Firebase/">
                        <span class="tag">Firebase</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Google-Compute-Engine/">
                        <span class="tag">Google Compute Engine</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IoT/">
                        <span class="tag">IoT</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JavaScript/">
                        <span class="tag">JavaScript</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Jupyter/">
                        <span class="tag">Jupyter</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/K-Means/">
                        <span class="tag">K-Means</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/KNN/">
                        <span class="tag">KNN</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linear-Regression/">
                        <span class="tag">Linear Regression</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LoRa/">
                        <span class="tag">LoRa</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Logistic-Regrassion/">
                        <span class="tag">Logistic Regrassion</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MJPEG-Streamer/">
                        <span class="tag">MJPEG-Streamer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MQTT/">
                        <span class="tag">MQTT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Machine-Learning/">
                        <span class="tag">Machine Learning</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Minecraft/">
                        <span class="tag">Minecraft</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ngrok/">
                        <span class="tag">Ngrok</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Node-js/">
                        <span class="tag">Node.js</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/NodeRED/">
                        <span class="tag">NodeRED</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Promise/">
                        <span class="tag">Promise</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Python/">
                        <span class="tag">Python</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Random-Forest/">
                        <span class="tag">Random Forest</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Raspberry-Pi/">
                        <span class="tag">Raspberry Pi</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SVM/">
                        <span class="tag">SVM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Scikit-learn/">
                        <span class="tag">Scikit-learn</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Tensorflow/">
                        <span class="tag">Tensorflow</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Verilog/">
                        <span class="tag">Verilog</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/base64/">
                        <span class="tag">base64</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/matplotlib/">
                        <span class="tag">matplotlib</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/02/04/Tensorflow-notebook-2/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.imgur.com/zJX2v4b.jpg" alt="Tensorflow Notebook 2 - Linear Regression">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-02-04T08:42:49.000Z">2019-02-04</time></div>
                    <a href="/2019/02/04/Tensorflow-notebook-2/" class="has-link-black-ter is-size-6">Tensorflow Notebook 2 - Linear Regression</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/02/03/js-promise-execute-sequentially/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.imgur.com/X3i6f9L.png" alt="JavaScript 筆記 - 依序執行function">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-02-03T07:07:42.000Z">2019-02-03</time></div>
                    <a href="/2019/02/03/js-promise-execute-sequentially/" class="has-link-black-ter is-size-6">JavaScript 筆記 - 依序執行function</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/02/02/Raspberry-Pi3-MJPEG-Streamer-Install-Setup/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.imgur.com/f9eSaX7.jpg" alt="Raspberry Pi3 MJPEG-Streamer Install &amp; Setup">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-02-02T08:20:47.000Z">2019-02-02</time></div>
                    <a href="/2019/02/02/Raspberry-Pi3-MJPEG-Streamer-Install-Setup/" class="has-link-black-ter is-size-6">Raspberry Pi3 MJPEG-Streamer Install &amp; Setup</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/01/28/Tensorflow-notebook-1/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.imgur.com/zJX2v4b.jpg" alt="Tensorflow Notebook 1 - Python實作二元線性分類器">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-01-28T12:46:49.000Z">2019-01-28</time></div>
                    <a href="/2019/01/28/Tensorflow-notebook-1/" class="has-link-black-ter is-size-6">Tensorflow Notebook 1 - Python實作二元線性分類器</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/26/iot-course2018-HW6/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.imgur.com/9b82heZ.jpg" alt="透過AWS IoT core儲存sensor資料至DynamoDB">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-26T03:15:28.000Z">2018-11-26</time></div>
                    <a href="/2018/11/26/iot-course2018-HW6/" class="has-link-black-ter is-size-6">透過AWS IoT core儲存sensor資料至DynamoDB</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">February 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">January 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">November 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">October 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">June 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">May 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">September 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AI/">
                        <span class="tag">AI</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AWS/">
                        <span class="tag">AWS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Decision-Tree/">
                        <span class="tag">Decision Tree</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Deep-Learning/">
                        <span class="tag">Deep Learning</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/DynamoDB/">
                        <span class="tag">DynamoDB</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ES6/">
                        <span class="tag">ES6</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Facebook/">
                        <span class="tag">Facebook</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Firebase/">
                        <span class="tag">Firebase</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Google-Compute-Engine/">
                        <span class="tag">Google Compute Engine</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IoT/">
                        <span class="tag">IoT</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JavaScript/">
                        <span class="tag">JavaScript</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Jupyter/">
                        <span class="tag">Jupyter</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/K-Means/">
                        <span class="tag">K-Means</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/KNN/">
                        <span class="tag">KNN</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linear-Regression/">
                        <span class="tag">Linear Regression</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LoRa/">
                        <span class="tag">LoRa</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Logistic-Regrassion/">
                        <span class="tag">Logistic Regrassion</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MJPEG-Streamer/">
                        <span class="tag">MJPEG-Streamer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MQTT/">
                        <span class="tag">MQTT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Machine-Learning/">
                        <span class="tag">Machine Learning</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Minecraft/">
                        <span class="tag">Minecraft</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ngrok/">
                        <span class="tag">Ngrok</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Node-js/">
                        <span class="tag">Node.js</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/NodeRED/">
                        <span class="tag">NodeRED</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Promise/">
                        <span class="tag">Promise</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Python/">
                        <span class="tag">Python</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Random-Forest/">
                        <span class="tag">Random Forest</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Raspberry-Pi/">
                        <span class="tag">Raspberry Pi</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SVM/">
                        <span class="tag">SVM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Scikit-learn/">
                        <span class="tag">Scikit-learn</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Tensorflow/">
                        <span class="tag">Tensorflow</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Verilog/">
                        <span class="tag">Verilog</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/base64/">
                        <span class="tag">base64</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/matplotlib/">
                        <span class="tag">matplotlib</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="Arduino LoRa Shield通訊實驗與NodeRED" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 John Doe&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="http://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    
</body>
</html>